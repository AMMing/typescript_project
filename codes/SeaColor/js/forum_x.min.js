var SeaColor;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.getUserIcon=function(t,e){var r=t.id,a=(r%100).padLeft(2,"0");r=Math.floor(r/100);var n=(r%100).padLeft(2,"0");r=Math.floor(r/100);var i=(r%100).padLeft(2,"0");return"/uc_server/data/avatar/000/"+i+"/"+n+"/"+a+"_avatar_"+e+".jpg"},t.prototype.getUserIcon_Small=function(t){return this.getUserIcon(t,"small")},t.prototype.getUserIcon_Middle=function(t){return this.getUserIcon(t,"middle")},t.prototype.getUserIcon_Big=function(t){return this.getUserIcon(t,"big")},t.prototype.getUserInfo=function(t){var e=t.find("a"),r=e.attr("href"),a="",n=r.indexOf("space-uid-");return n>=0&&(a=r.substring(n+"space-uid-".length),n=a.indexOf(".html"),a=a.substring(0,n)),{id:parseInt(a),name:e.text()}},t.prototype.getTopic=function(t){var e=t.find("a.s.xst"),r=t.find(".by:last em a"),a={comment_count:parseInt(t.find("em.t9_01").text()),view_count:parseInt(t.find("em.t9_02").text()),title:e.text().trim(),url:e.attr("href"),title_color:e.css("color"),des:t.find(".common div:last").html(),host:this.getUserInfo(t.find(".by:first cite:first")),last_view:this.getUserInfo(t.find(".by:first cite:last")),date:r.find("span").attr("title"),date_text:r.text(),last_comment_url:r.attr("href")};return a.date||(a.date=a.date_text,a.date_text=null),a},t.prototype.getTopicItem=function(t){return this.getTopic(t)},t.prototype.getAllItem=function(){return jQuery("#threadlisttableid tbody")},t.prototype.getAllTopicItem=function(){var t=this,e=this.getAllItem();return e.toEnumerable().Select(function(e){return t.getTopicItem(e)}).ToArray()},t}();t.Data=e}(e=t.Discuss||(t.Discuss={}))}(SeaColor||(SeaColor={}));var SeaColor;!function(t){var e;!function(t){var e=function(){function e(){this.data=new t.Data,this.topic_list=[],this.default_img_url="http://kancolle.aemedia.org/uc_server/images/noavatar_middle.gif"}return e.prototype.imgLoad=function(t){var e=t.currentTarget,r=new Image,a=e.dataset.src,n=function(){e.parentElement.style.backgroundImage="url("+a+")",e.remove()};r.onload=n,r.src=a,r.complete&&n()},e.prototype.createItem=function(t){return t&&t.title&&t.url?React.createElement("div",{className:"item"},React.createElement("div",{className:"left"},React.createElement("div",{className:"bg"}),React.createElement("h4",null,React.createElement("a",{href:t.url},t.title)),React.createElement("div",null,t.des)),React.createElement("div",{className:"right"},React.createElement("div",{className:"user"},React.createElement("img",{src:this.default_img_url,"data-src":this.data.getUserIcon_Middle(t.host),alt:t.host.name,onLoad:this.imgLoad})),React.createElement("div",{className:"username"},t.host.name)),React.createElement("div",{className:"clear"})):null},e.prototype.createList=function(t){var e=this,r=Enumerable.From(t).Select(function(t){return e.createItem(t)}).Where(function(t){return!!t}).ToArray();return React.createElement("div",{className:"topic_list"},r)},e.prototype.rebuild=function(){for(;document.body.hasChildNodes();)document.body.removeChild(document.body.firstChild);var t=document.createElement("div");document.body.appendChild(t),ReactDOM.render(React.createElement("div",{className:"main_content forum"},this.createList(this.topic_list)),t)},e.prototype.init=function(){this.topic_list=this.data.getAllTopicItem(),this.rebuild()},e}();t.Render=e}(e=t.Discuss||(t.Discuss={}))}(SeaColor||(SeaColor={})),(new SeaColor.Discuss.Render).init();
//# sourceMappingURL=../maps/forum_x.min.js.map
